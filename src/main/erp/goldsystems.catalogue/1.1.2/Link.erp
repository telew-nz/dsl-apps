trait CanBeLinked extends Entity {

	view catalogueForm

}


trait HasLink[T extends Entity] extends Entity {

	field linkedEntityId: String
    compute linkedEntity: Future[T] = {
		Entity.load(linkedEntityId).result.map(_.as[T]).recover(err => {
			throw "Couldn't convert linked entity to ${T}"
		})
    }
    
    front func openLinkedEntity = {
    	linkedEntity.map(UI.openUrl(_.formUrl))
    }

}